---
title: "Relacje do złota"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
setwd("../..")
source("./Src/Functions/ref.R")

colSelect <- c("Date", "Close")
xagusd <- getStooq("xagusd")
xauusd <- getStooq("xauusd")
usdi <- getStooq("usd_i")
spx <- getStooq("^spx")
dji <- getStooq("^DJI")

```

## Kiedy kupować złota, a kiedy srebro


```{r echo=F}
xau_xag <- inner_join_stooq(xauusd, xagusd)
hist2(xau_xag$ratio)

```

## Jak złoto zachowuje się w relacji do Indexu Dolara (USDI)

```{r}
xau_usdi <- inner_join_stooq(xauusd, usdi)
hist2(xau_usdi$xau_usdi, main="Uncja zlota na 1 jednostke usdi")
  
```

## Jaka jest relacja złota do indexów giełdowych w USA
### S&P500
```{r}
xau_spx <- inner_join_stooq(xauusd, spx)

plot(xau_spx$Date, xau_spx$spx_xau)

hist2(xau_spx$spx_xau)
 

``` 

###DJI

```{r}
xau_dji<- inner_join(dji[, colSelect], xau[,colSelect], by = c("Date")) %>%
  select (Date, dji = Close.x, xau = Close.y) %>%
  mutate(xau_dji= xau / dji) %>%
  mutate(dji_xau = dji /  xau  )
plot(xau_dji$Date, xau_dji$dji_xau)

hist2(xau_dji$dji_xau)
  
``` 
 
 
## Kurs złota do akcji "najlepszego inwestora"" (BERKSHIRE HATHAWAY - A class)

```{r}
brk <-  getStooq("brk-a.us")
xau_brk<- inner_join(brk[, colSelect], xau[,colSelect], by = c("Date")) %>%
  select (Date, brk = Close.x, xau = Close.y) %>%
  mutate(xau_brk= xau / brk) %>%
  mutate(brk_xau = brk /  xau  )

plot(xau_brk$Date, xau_brk$brk_xau)

hist2(xau_brk$brk_xau)
  
```

## Kurs złoto w relacji do innych indexów giełdowych 
### Nikkei 225 - Japan (^NKX)

```{r}
nkx <-  getStooq("^NKX")
xau_nkx<- inner_join(nkx[, colSelect], xau[,colSelect], by = c("Date")) %>%
  select (Date, nkx = Close.x, xau = Close.y) %>%
  mutate(xau_nkx= xau / nkx) %>%
  mutate(nkx_xau = nkx /  xau  )

plot(xau_nkx$Date, xau_nkx$nkx_xau)

hist2(xau_nkx$nkx_xau)
```

### Shanghai Composite Index SHC
```{r}
shc <- getStooq("^SHC")
xau_shc<- inner_join(shc[, colSelect], xau[,colSelect], by = c("Date")) %>%
  select (Date, shc = Close.x, xau = Close.y) %>%
  mutate(xau_shc= xau / shc) %>%
  mutate(shc_xau = shc / xau )

plot(xau_shc$Date, xau_shc$shc_xau)

hist2(xau_shc$shc_xau)
  

```
  
## Kurs indexów surowcowych
### CRB Commodity Index (^CRY)


```{r}
shc <-  getStooq("^SHC")
xau_shc<- inner_join(shc[, colSelect], xau[,colSelect], by = c("Date")) %>%
  select (Date, shc = Close.x, xau = Close.y) %>%
  mutate(xau_shc= xau / shc) %>%
  mutate(shc_xau = shc /  xau  )

plot(xau_shc$Date, xau_shc$shc_xau)

hist2(xau_shc$shc_xau)


```

  
## Kurs złota do polskich indexów giełdowych
### 


```{r}


xau <- getStooq("xaupln")
wig20 <- getStooq("wig20")
wigGor <- getStooq("WIG_GORNIC")
xau_wig20 <- inner_join(xau[, colSelect], wig20[,colSelect], by = c("Date")) %>%
  select (Date, xau = Close.x, wig20 = Close.y) %>%
  mutate(ratio = xau / wig20) %>%
  mutate(ratio.inv = wig20 / xau)

xau_wigGor <- inner_join(xau[, colSelect], wigGor[,colSelect], by = c("Date")) %>%
  select (Date, xau = Close.x, wigGor = Close.y) %>%
  mutate(ratio = xau / wigGor) %>%
  mutate(ratio.inv = 1 / ratio )

```
